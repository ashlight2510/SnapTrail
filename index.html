<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#000000">
  
  <!-- SEO 메타 태그 -->
  <title>SnapTrail - 무료 사진 타임라인 뷰어 | EXIF 분석, GPS 지도, HEIC 지원</title>
  <meta name="description" content="SnapTrail은 사진의 EXIF 메타데이터를 분석하여 타임라인으로 보여주는 무료 웹앱입니다. GPS 지도, HEIC 파일 지원, ZIP 다운로드 등 다양한 기능을 제공합니다. 회원가입 없이 바로 사용 가능합니다.">
  <meta name="keywords" content="사진 타임라인, EXIF 분석, GPS 지도, HEIC 변환, 사진 관리, 무료 사진 뷰어, 사진 메타데이터, 사진 지도">
  <meta name="author" content="AshLight">
  <meta name="robots" content="index, follow">
  <meta name="language" content="Korean">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://snaptrail.ashlight.store/">
  <meta property="og:title" content="SnapTrail - 무료 사진 타임라인 뷰어">
  <meta property="og:description" content="사진의 EXIF 메타데이터를 분석하여 타임라인으로 보여주는 무료 웹앱. GPS 지도, HEIC 지원, ZIP 다운로드 기능 제공.">
  <meta property="og:image" content="https://snaptrail.ashlight.store/og-image.png">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://snaptrail.ashlight.store/">
  <meta property="twitter:title" content="SnapTrail - 무료 사진 타임라인 뷰어">
  <meta property="twitter:description" content="사진의 EXIF 메타데이터를 분석하여 타임라인으로 보여주는 무료 웹앱.">
  <meta property="twitter:image" content="https://snaptrail.ashlight.store/og-image.png">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://snaptrail.ashlight.store/">
  
  <link rel="manifest" href="/manifest.json">
  
  <!-- 구조화된 데이터 (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "SnapTrail",
    "description": "사진의 EXIF 메타데이터를 분석하여 타임라인으로 보여주는 무료 웹앱",
    "url": "https://snaptrail.ashlight.store/",
    "applicationCategory": "MultimediaApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "KRW"
    },
    "author": {
      "@type": "Person",
      "name": "AshLight",
      "email": "ashlight2510@gmail.com"
    },
    "featureList": [
      "EXIF 메타데이터 분석",
      "GPS 기반 지도 표시",
      "HEIC 파일 지원",
      "타임라인 뷰어",
      "ZIP 다운로드",
      "PWA 지원"
    ]
  }
  </script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
</head>
<body>
  <div id="app">
    <header>
      <h1>📸 SnapTrail</h1>
      <div class="header-actions">
        <label for="file-input" class="upload-btn">사진 업로드</label>
        <input type="file" id="file-input" multiple accept="image/*,.heic,.heif" style="display: none;">
        <button id="clear-btn" class="clear-btn">초기화</button>
      </div>
    </header>

    <div class="drop-zone" id="drop-zone">
      <p>📁 사진을 여기에 드래그하거나 클릭하여 업로드하세요</p>
    </div>

    <div class="tabs">
      <button class="tab-btn active" data-tab="timeline">타임라인</button>
      <button class="tab-btn" data-tab="map">지도</button>
    </div>

    <div id="loading" class="loading" style="display: none;">
      <div class="spinner"></div>
      <p>사진을 분석 중...</p>
    </div>

    <main>
      <div id="timeline-view" class="tab-content active"></div>
      <div id="map-view" class="tab-content"></div>
    </main>
    
    <!-- 기능 소개 섹션 -->
    <section class="features-section">
      <h2>✨ SnapTrail의 주요 기능</h2>
      <div class="features-grid">
        <div class="feature-card">
          <h3>📸 EXIF 메타데이터 분석</h3>
          <p>사진에 포함된 촬영일, 카메라 기종, GPS 정보 등을 자동으로 추출하여 표시합니다.</p>
        </div>
        <div class="feature-card">
          <h3>🗺️ GPS 기반 지도</h3>
          <p>위치 정보가 있는 사진을 지도에 마커로 표시하고, 주소로 변환하여 보여줍니다.</p>
        </div>
        <div class="feature-card">
          <h3>📅 타임라인 뷰어</h3>
          <p>사진을 연도와 월별로 자동 그룹화하여 시간순으로 정리된 타임라인을 제공합니다.</p>
        </div>
        <div class="feature-card">
          <h3>📱 HEIC 파일 지원</h3>
          <p>iPhone에서 찍은 HEIC/HEIF 파일을 자동으로 JPEG로 변환하여 사용할 수 있습니다.</p>
        </div>
        <div class="feature-card">
          <h3>📦 ZIP 다운로드</h3>
          <p>원하는 월의 사진을 한 번에 ZIP 파일로 다운로드할 수 있습니다.</p>
        </div>
        <div class="feature-card">
          <h3>💾 로컬 저장</h3>
          <p>모든 데이터는 브라우저에만 저장되며, 새로고침 후에도 데이터가 유지됩니다.</p>
        </div>
      </div>
    </section>
    
    <!-- 사용 가이드 섹션 -->
    <section class="guide-section">
      <h2>📖 사용 가이드</h2>
      <div class="guide-steps">
        <div class="guide-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>사진 업로드</h3>
            <p>드래그 앤 드롭 또는 "사진 업로드" 버튼을 클릭하여 사진을 업로드하세요. 여러 장을 한 번에 업로드할 수 있으며, HEIC 파일도 지원합니다.</p>
          </div>
        </div>
        <div class="guide-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>타임라인 확인</h3>
            <p>업로드된 사진이 자동으로 연도와 월별로 그룹화되어 타임라인으로 표시됩니다. 각 사진의 촬영일과 카메라 정보를 확인할 수 있습니다.</p>
          </div>
        </div>
        <div class="guide-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>지도에서 위치 확인</h3>
            <p>"지도" 탭을 클릭하면 GPS 정보가 있는 사진들이 지도에 마커로 표시됩니다. 마커를 클릭하면 사진과 위치 정보를 확인할 수 있습니다.</p>
          </div>
        </div>
        <div class="guide-step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h3>사진 다운로드</h3>
            <p>각 월 섹션의 "ZIP 다운로드" 버튼을 클릭하면 해당 월의 모든 사진을 ZIP 파일로 다운로드할 수 있습니다.</p>
          </div>
        </div>
      </div>
    </section>
    
    <!-- FAQ 섹션 -->
    <section class="faq-section" id="faq">
      <h2>❓ 자주 묻는 질문 (FAQ)</h2>
      <div class="faq-list">
        <div class="faq-item">
          <h3>Q. SnapTrail은 무료인가요?</h3>
          <p>A. 네, 완전 무료입니다. 회원가입이나 설치 없이 바로 사용할 수 있습니다. 모든 기능을 무료로 이용하실 수 있습니다.</p>
        </div>
        <div class="faq-item">
          <h3>Q. 업로드한 사진은 어디에 저장되나요?</h3>
          <p>A. 모든 데이터는 사용자의 브라우저 로컬 스토리지에만 저장됩니다. 서버로 전송되지 않으며, 다른 사람이 접근할 수 없습니다. 브라우저 캐시를 삭제하면 저장된 데이터도 함께 삭제됩니다.</p>
        </div>
        <div class="faq-item">
          <h3>Q. iPhone HEIC 파일도 사용할 수 있나요?</h3>
          <p>A. 네, iPhone에서 찍은 HEIC/HEIF 파일을 자동으로 JPEG로 변환하여 사용할 수 있습니다. GPS 정보도 정확하게 추출됩니다.</p>
        </div>
        <div class="faq-item">
          <h3>Q. 모바일에서도 사용할 수 있나요?</h3>
          <p>A. 네, 반응형 디자인으로 구현되어 있어 스마트폰, 태블릿, 데스크톱 등 모든 기기에서 최적화된 화면으로 사용할 수 있습니다. PWA로 홈화면에 추가하여 앱처럼 사용할 수도 있습니다.</p>
        </div>
        <div class="faq-item">
          <h3>Q. GPS 정보가 없는 사진도 사용할 수 있나요?</h3>
          <p>A. 네, GPS 정보가 없어도 사진을 업로드하고 타임라인으로 볼 수 있습니다. GPS 정보가 있는 사진만 지도에 표시됩니다.</p>
        </div>
        <div class="faq-item">
          <h3>Q. 사진을 ZIP으로 다운로드할 수 있나요?</h3>
          <p>A. 네, 각 월별로 사진을 ZIP 파일로 다운로드할 수 있습니다. 타임라인에서 해당 월의 "ZIP 다운로드" 버튼을 클릭하세요.</p>
        </div>
      </div>
    </section>
    
    <!-- 푸터 -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h3>SnapTrail</h3>
          <p>사진의 추억을 타임라인으로 관리하세요</p>
        </div>
        <div class="footer-section">
          <h3>링크</h3>
          <ul>
            <li><a href="#faq">자주 묻는 질문</a></li>
            <li><a href="/privacy.html">개인정보 처리방침</a></li>
            <li><a href="/terms.html">이용약관</a></li>
            <li><a href="mailto:ashlight2510@gmail.com">문의하기</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>연락처</h3>
          <p>
            <a href="mailto:ashlight2510@gmail.com">ashlight2510@gmail.com</a>
          </p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>© 2025 <a href="mailto:ashlight2510@gmail.com">AshLight</a>. All rights reserved.</p>
      </div>
    </footer>
  </div>

  <script type="module" src="/src/main.js"></script>
  <script>
    // Service Worker는 선택적으로 로드 (GitHub Pages에서 제한적일 수 있음)
    if ('serviceWorker' in navigator && location.protocol === 'https:') {
      navigator.serviceWorker.register('/sw.js', { updateViaCache: 'none' }).then((registration) => {
        console.log('Service Worker 등록 완료');
        
        registration.addEventListener('updatefound', () => {
          const newWorker = registration.installing;
          newWorker.addEventListener('statechange', () => {
            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
              if (confirm('새 버전이 있습니다. 페이지를 새로고침하시겠습니까?')) {
                window.location.reload();
              }
            }
          });
        });
      }).catch(err => {
        // Service Worker 등록 실패는 무시 (GitHub Pages에서 정상)
        console.warn('Service Worker 등록 실패 (정상일 수 있음):', err.message);
      });
      
      navigator.serviceWorker.addEventListener('controllerchange', () => {
        window.location.reload();
      });
    }
  </script>
</body>
</html>

